<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-input/paper-input-decorator.html">
<link rel="import" href="../bower_components/paper-input/paper-autogrow-textarea.html">
<polymer-element name="form-expanding-input" attributes="label error autofocus">
  <template>
	  <style>
	  	:host {
	      display: block;
	      width: 100%;
	    }
	    paper-input-decorator {
	    	margin: 4px 0;
	    	padding: 4px 4px 4px 4px  ;
	      text-align: left;
	    }
	  </style>
    <paper-input-decorator id="decorator" label="{{label}}" floatingLabel error="{{error}}">
      <paper-autogrow-textarea rows="1" maxRows="8">
        <textarea id="input" value="{{value}}" required></textarea>
      </paper-autogrow-textarea>
    </paper-input-decorator>
  </template>
  <script>
  	Polymer({
      publish:{
        value:{
          value:'',
          reflect: true
        }
      },
  		label:'input',
  		error:'input is required!',
  		autofocus:false,
  		autofocusChanged: function(){
  			this.$.input.focus();
  		},
  		triggerError: function(){
  			this.$.input.focus();
  			this.$.decorator.isInvalid = true;
  			this.$.decorator.autoValidate = true;
  		}
  	})
  </script>
</polymer-element>